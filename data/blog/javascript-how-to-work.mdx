---
title: JavaScript - ë‚´ë¶€ ë™ì‘(ëŸ°íƒ€ì„, ì½œ ìŠ¤íƒ, ì´ë²¤íŠ¸ ë£¨í”„)
date: '2022-09-07'
tags: ['JavaScript']
---

ğŸ“ ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ë‚´ë¶€ ë™ì‘ ë©”ì»¤ë‹ˆì¦˜ê³¼ ë¹„ë™ê¸° ì²˜ë¦¬ ë°©ì‹ì„ ì •ë¦¬í•œ ë‚´ìš©ì…ë‹ˆë‹¤.

## ìë°”ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ í™˜ê²½

### ì‹±ê¸€ ìŠ¤ë ˆë“œ

ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ë³¸ì§ˆì ìœ¼ë¡œ ì‹±ê¸€ ìŠ¤ë ˆë“œ ê¸°ë°˜ì…ë‹ˆë‹¤. ì´ëŠ” í•œ ë²ˆì— í•˜ë‚˜ì˜ ì‘ì—…ë§Œ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ë©”ì¸ ìŠ¤ë ˆë“œëŠ” ì¢…ì¢… "ì´ë²¤íŠ¸ ë£¨í”„"ì—ì„œ íƒœìŠ¤í¬ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤.

ì‹±ê¸€ ìŠ¤ë ˆë“œì˜ íŠ¹ì„±ì€ ë‹¤ìŒê³¼ ê°™ì€ ì˜ë¯¸ë¥¼ ê°–ìŠµë‹ˆë‹¤:

- **ë¸”ë¡œí‚¹ ì—°ì‚°ì˜ ìœ„í—˜**: ë¬´ê±°ìš´ ì—°ì‚°ì´ ë©”ì¸ ìŠ¤ë ˆë“œë¥¼ ì°¨ë‹¨í•˜ë©´ ì „ì²´ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë©ˆì¶œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ê°„ë‹¨í•œ í”„ë¡œê·¸ë˜ë° ëª¨ë¸**: ë©€í‹°ìŠ¤ë ˆë“œ í™˜ê²½ì—ì„œ ë°œìƒí•˜ëŠ” ë³µì¡í•œ ë™ê¸°í™” ë¬¸ì œê°€ ì—†ìŠµë‹ˆë‹¤.
- **ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°ì˜ í•„ìš”ì„±**: ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ì‘ì—…ì€ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤.

ì´ëŸ¬í•œ ì‹±ê¸€ ìŠ¤ë ˆë“œ ì œí•œì„ ê·¹ë³µí•˜ê¸° ìœ„í•´, ìë°”ìŠ¤í¬ë¦½íŠ¸ ëŸ°íƒ€ì„ í™˜ê²½(ë¸Œë¼ìš°ì €, Node.js)ì€ ë¹„ë™ê¸° APIì™€ ì´ë²¤íŠ¸ ë£¨í”„ ë§¤ì»¤ë‹ˆì¦˜ì„ ì œê³µí•©ë‹ˆë‹¤.

## ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„

![Image](https://github.com/user-attachments/assets/5fb45483-c398-4f83-82ae-78a2b445b88c)

ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì€ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ëŠ” í”„ë¡œê·¸ë¨ì…ë‹ˆë‹¤. ê°€ì¥ ë„ë¦¬ ì•Œë ¤ì§„ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì€ Googleì˜ V8(Chrome, Node.js), Mozillaì˜ SpiderMonkey(Firefox) ë“±ì´ ìˆìŠµë‹ˆë‹¤.

### ë©”ëª¨ë¦¬ í™(Memory Heap): ë©”ëª¨ë¦¬ í• ë‹¹ê³¼ ê°ì²´ ì €ì¥

ë©”ëª¨ë¦¬ í™ì€ ê°ì²´, ë³€ìˆ˜, í•¨ìˆ˜ ë“± í”„ë¡œê·¸ë¨ì—ì„œ í•„ìš”í•œ ë°ì´í„°ê°€ ì €ì¥ë˜ëŠ” ì˜ì—­ì…ë‹ˆë‹¤.

ì£¼ìš” íŠ¹ì„±:

- **ë™ì  ë©”ëª¨ë¦¬ í• ë‹¹**: ê°ì²´ ìƒì„± ì‹œ í•„ìš”í•œ ë©”ëª¨ë¦¬ë¥¼ ë™ì ìœ¼ë¡œ í• ë‹¹í•©ë‹ˆë‹¤.
- **ê°€ë¹„ì§€ ì»¬ë ‰ì…˜**: ë”ì´ìƒ ì°¸ì¡°ë˜ì§€ ì•ŠëŠ” ê°ì²´ë¥¼ ìë™ìœ¼ë¡œ ê°ì§€í•˜ê³  ë©”ëª¨ë¦¬ë¥¼ íšŒìˆ˜í•©ë‹ˆë‹¤.
- **ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ê°€ëŠ¥ì„±**: ì˜ë„ì¹˜ ì•Šê²Œ ê°ì²´ì— ëŒ€í•œ ì°¸ì¡°ê°€ ìœ ì§€ë˜ë©´ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì½œ ìŠ¤íƒ(Call Stack): í•¨ìˆ˜ ì‹¤í–‰ íë¦„ê³¼ í˜¸ì¶œ ê´€ë¦¬

ì½œ ìŠ¤íƒì€ ìë°”ìŠ¤í¬ë¦½íŠ¸ í”„ë¡œê·¸ë¨ì˜ ì‹¤í–‰ íë¦„ì„ ì¶”ì í•˜ëŠ” ë°ì´í„° êµ¬ì¡°ì…ë‹ˆë‹¤. í•¨ìˆ˜ê°€ í˜¸ì¶œë  ë•Œë§ˆë‹¤ í•´ë‹¹ í•¨ìˆ˜ì˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ìŠ¤íƒì˜ ë§¨ ìœ„ì— ì¶”ê°€(push)ë˜ê³ , í•¨ìˆ˜ ì‹¤í–‰ì´ ì™„ë£Œë˜ë©´ ìŠ¤íƒì—ì„œ ì œê±°(pop)ë©ë‹ˆë‹¤.

ì£¼ìš” íŠ¹ì„±:

- **LIFO(Last In, First Out)**: ê°€ì¥ ë‚˜ì¤‘ì— ë“¤ì–´ì˜¨ í•¨ìˆ˜ê°€ ê°€ì¥ ë¨¼ì € ì‹¤í–‰ë©ë‹ˆë‹¤.
- **ìŠ¤íƒ ì˜¤ë²„í”Œë¡œìš°**: ì½œ ìŠ¤íƒì˜ í¬ê¸°ê°€ ì œí•œë˜ì–´ ìˆì–´, ì¬ê·€ í˜¸ì¶œì´ ë„ˆë¬´ ê¹Šì–´ì§€ë©´ ì˜¤ë²„í”Œë¡œìš°ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ë™ê¸°ì  ì‹¤í–‰**: ì½œ ìŠ¤íƒì˜ ì‘ì—…ì€ í•­ìƒ ë™ê¸°ì ìœ¼ë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤. í•œ í•¨ìˆ˜ê°€ ì™„ë£Œë  ë•Œê¹Œì§€ ë‹¤ë¥¸ ì‘ì—…ì€ ê¸°ë‹¤ë¦½ë‹ˆë‹¤.

## ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ ìœ„í•œ ëŸ°íƒ€ì„ êµ¬ì„± ìš”ì†Œ

ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ì‹±ê¸€ ìŠ¤ë ˆë“œ ì–¸ì–´ì´ì§€ë§Œ, ë¸Œë¼ìš°ì €ë‚˜, Node.jsì™€ ê°™ì€ ëŸ°íƒ€ì„ í™˜ê²½ì—ì„œëŠ” ë¹„ë™ê¸° ì²˜ë¦¬ë¥¼ í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.

![Image](https://github.com/user-attachments/assets/0a83c82b-b159-4326-bb04-4ce1f32aab6b)

### Web APIs (íƒ€ì´ë¨¸, ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ë“±)

**ë¸Œë¼ìš°ì € Web APIs**:

- íƒ€ì´ë¨¸: setTimeout(), setInterval()
- DOM API: ë¬¸ì„œ ì¡°ì‘ ë° ì´ë²¤íŠ¸ ì²˜ë¦¬
- Fetch API: ë„¤íŠ¸ì›Œí¬ ìš”ì²­
- Web Storage: localStorage, sessionStorage
- Geolocation, WebSockets, Web Workers ë“±

ì´ëŸ¬í•œ Web APIsëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì—ì„œ ì‹¤í–‰ë˜ì§€ ì•Šê³ , ë¸Œë¼ìš°ì €ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤.

### íƒœìŠ¤í¬ í(Task Queue)ì™€ ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ í(Microtask Queue)

#### íƒœìŠ¤í¬ í(Task Queue)

- `setTimeout`, `setInterval`, ì‚¬ìš©ì ì´ë²¤íŠ¸ ë“±ì˜ ì½œë°±ì´ ì—¬ê¸°ì— ì¶”ê°€ë©ë‹ˆë‹¤.
- ì´ë²¤íŠ¸ ë£¨í”„ëŠ” í•œ ë²ˆì˜ ìˆœíšŒì—ì„œ íƒœìŠ¤í¬ íì—ì„œ í•˜ë‚˜ì˜ íƒœìŠ¤í¬ë§Œ ì²˜ë¦¬í•©ë‹ˆë‹¤.

#### ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ í(Microtask Queue)

- `Promise`, `MutationObserver` ë“±ì˜ ì½œë°±ì´ ì—¬ê¸°ì— ì¶”ê°€ë©ë‹ˆë‹¤.
- ì´ë²¤íŠ¸ ë£¨í”„ëŠ” í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ íƒœìŠ¤í¬ê°€ ì™„ë£Œëœ í›„, ë‹¤ìŒ íƒœìŠ¤í¬ë¥¼ ì²˜ë¦¬í•˜ê¸° ì „ì— ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ íì˜ ëª¨ë“  ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤.
- ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ëŠ” ìƒˆë¡œìš´ ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ë¥¼ íì— ì¶”ê°€í•  ìˆ˜ ìˆìœ¼ë©°, ì´ ê²½ìš° ëª¨ë“  ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ë¥¼ ì²˜ë¦¬í•˜ê³  ë‚˜ì„œ ë‹¤ìŒ íƒœìŠ¤í¬ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤.

```javascript
console.log('ì‹œì‘')

// íƒœìŠ¤í¬ íì— ì¶”ê°€ë¨
setTimeout(() => {
  console.log('íƒœìŠ¤í¬ íì˜ ì½œë°±')
}, 0)

// ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ íì— ì¶”ê°€ë¨
Promise.resolve()
  .then(() => {
    console.log('ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ íì˜ ì½œë°± 1')

    // ìƒˆë¡œìš´ ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ ì¶”ê°€
    return Promise.resolve()
  })
  .then(() => {
    console.log('ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ íì˜ ì½œë°± 2')
  })

console.log('ì¢…ë£Œ')

// ì¶œë ¥ ìˆœì„œ: 'ì‹œì‘', 'ì¢…ë£Œ', 'ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ íì˜ ì½œë°± 1', 'ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ íì˜ ì½œë°± 2', 'íƒœìŠ¤í¬ íì˜ ì½œë°±'
```

### ë Œë”ë§ í(Animation Frames)

ë¸Œë¼ìš°ì € í™˜ê²½ì—ì„œëŠ” í™”ë©´ ë Œë”ë§ê³¼ ê´€ë ¨ëœ íê°€ ì¡´ì¬í•©ë‹ˆë‹¤.

- ì• ë‹ˆë©”ì´ì…˜ í”„ë ˆì„: `requestAnimationFrame()`ì„ í†µí•´ ë“±ë¡ëœ ì½œë°±ì´ ì €ì¥ë©ë‹ˆë‹¤.
- ë¸Œë¼ìš°ì €ëŠ” ì¼ë°˜ì ìœ¼ë¡œ 60fps(frames per second)ë¡œ ë Œë”ë§ì„ ìˆ˜í–‰í•˜ë©°, ê° í”„ë ˆì„ë§ˆë‹¤ ì• ë‹ˆë©”ì´ì…˜ í”„ë ˆì„ ì½œë°±ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.
- ë Œë”ë§ íëŠ” íƒœìŠ¤í¬ íì™€ ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ í ì‚¬ì´ì˜ ìš°ì„ ìˆœìœ„ë¥¼ ê°–ìŠµë‹ˆë‹¤.

### ì´ë²¤íŠ¸ ë£¨í”„(Event Loop)

ì´ë²¤íŠ¸ ë£¨í”„ëŠ” íƒœìŠ¤í¬ í, ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ í, ë Œë”ë§ íë¥¼ ìˆœíšŒí•˜ë©°, ê° íì˜ ì‘ì—…ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤.

**ì´ë²¤íŠ¸ ë£¨í”„ ë™ì‘ ìˆœì„œ**:

1. **ì½œ ìŠ¤íƒ í™•ì¸**: ì½œ ìŠ¤íƒì´ ë¹„ì–´ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.
2. **í ìˆœíšŒ**: ë¹„ì–´ ìˆë‹¤ë©´, ë‹¤ìŒ ìš°ì„ ìˆœìœ„ì— ë”°ë¼ íì—ì„œ ì‘ì—…ì„ ê°€ì ¸ì™€ ì‹¤í–‰í•©ë‹ˆë‹¤.
   2-1. **ë§ˆì´í¬ë¡œ íƒœìŠ¤í¬ ì‹¤í–‰**: ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ íì˜ ëª¨ë“  ì‘ì—…ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.
   2-2. **ì• ë‹ˆë©”ì´ì…˜ í”„ë ˆì„ ì‹¤í–‰**: `requestAnimationFrame()`ì„ í†µí•´ ë“±ë¡ëœ ì½œë°±ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.
   2-3. **íƒœìŠ¤í¬ í ì‹¤í–‰**: íƒœìŠ¤í¬ íì—ì„œ í•˜ë‚˜ì˜ ì‘ì—…ì„ ê°€ì ¸ì™€ ì‹¤í–‰í•©ë‹ˆë‹¤.
3. **ë£¨í”„**: ì´ ê³¼ì •ì„ ì§€ì†ì ìœ¼ë¡œ ë°˜ë³µí•©ë‹ˆë‹¤.

```javascript
console.log('ìŠ¤í¬ë¦½íŠ¸ ì‹œì‘')

// íƒœìŠ¤í¬ íì— ì¶”ê°€
setTimeout(() => {
  console.log('íƒ€ì´ë¨¸ 1')

  // ìƒˆë¡œìš´ ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ ì¶”ê°€
  Promise.resolve().then(() => {
    console.log('íƒ€ì´ë¨¸ 1 ë‚´ë¶€ì˜ í”„ë¡œë¯¸ìŠ¤')
  })
}, 0)

// ë˜ ë‹¤ë¥¸ íƒœìŠ¤í¬ íì— ì¶”ê°€
setTimeout(() => {
  console.log('íƒ€ì´ë¨¸ 2')
}, 0)

// ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ íì— ì¶”ê°€
Promise.resolve().then(() => {
  console.log('í”„ë¡œë¯¸ìŠ¤ 1')

  // ìƒˆë¡œìš´ ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ ì¶”ê°€
  queueMicrotask(() => {
    console.log('ë§ˆì´í¬ë¡œíƒœìŠ¤í¬')
  })
})

// ë˜ ë‹¤ë¥¸ ë§ˆì´í¬ë¡œíƒœìŠ¤í¬ íì— ì¶”ê°€
Promise.resolve().then(() => {
  console.log('í”„ë¡œë¯¸ìŠ¤ 2')
})

console.log('ìŠ¤í¬ë¦½íŠ¸ ì¢…ë£Œ')

// ì¶œë ¥ ìˆœì„œ:
// 'ìŠ¤í¬ë¦½íŠ¸ ì‹œì‘'
// 'ìŠ¤í¬ë¦½íŠ¸ ì¢…ë£Œ'
// 'í”„ë¡œë¯¸ìŠ¤ 1'
// 'ë§ˆì´í¬ë¡œíƒœìŠ¤í¬'
// 'í”„ë¡œë¯¸ìŠ¤ 2'
// 'íƒ€ì´ë¨¸ 1'
// 'íƒ€ì´ë¨¸ 1 ë‚´ë¶€ì˜ í”„ë¡œë¯¸ìŠ¤'
// 'íƒ€ì´ë¨¸ 2'
```

---

**ì°¸ì¡°**

[MDN - ì´ë²¤íŠ¸ë£¨í”„](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Execution_model)
[JavaScript Visualized - Event Loop, Web APIs, (Micro)task Queue](https://www.lydiahallie.com/blog/event-loop)
